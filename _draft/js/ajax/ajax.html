<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


        <script type="text/javascript">

		var ajax;
		
		function fazer(){

			//window.alert("feito");
			 obj = document.getElementById("txtqq");

			try{
				var ajax = new XMLHttpRequest();
				obj.value = ajax;
			}catch(error){

				try{
					var ajax = new ActiveXObject("Microsoft.XMLHTTP");
					obj.value = ajax;
				}catch(error){

					obj.value = "2 try" + error;
				}
				obj.value = "1 try" + error;
			}


			if(ajax != null){
				obj.value = "ajax != null - ";
				ajax.open("GET", "testarAjax.php?id=123", true);
				ajax.onreadystatechange = function(){
//					a = ajax.readyState;
//					obj.value += a;
					
					if(ajax.readyState == 4){
						obj.value += " readyState";
						if(ajax.status == 200 || ajax.staus == 304){
//							obj.value = "foi";
							obj.value = ajax.responseText;

						}else{
							obj.value = "bbb";
						}
					}else{
						obj.value = "aaa";
					}
				}// onreadystattechange

				ajax.send(null);
			}else{
				obj.value = "ajax = null";
			}



			
		} // end funcion fazer

		</script>
	
  </head>

  <body>
	  <input type="button" onclick="fazer();" value="fazer"/>
	  <input type="text" id="txtqq" style="width: 600px"/>


  </body>
</html>